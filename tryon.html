<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>JAR4U</title>
    <link rel="icon" type="image/x-icon" href="/assets/logo.png">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils_3d@0.3/control_utils_3d.css" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils@0.6/control_utils.css" crossorigin="anonymous">
    <script src="js/extras/camera_utils.js" crossorigin="anonymous"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.3/camera_utils.js" crossorigin="anonymous"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils@0.6/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils_3d@0.3/control_utils_3d.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils@0.3/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="js/extras/hands.js" crossorigin="anonymous"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4/hands.js" crossorigin="anonymous"></script> -->

    <link rel="stylesheet" type="text/css" href="css/loader.css"/>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <script src=https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.7.0/math.min.js></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/kalmanjs@1.1.0/lib/kalman.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/nosleep/0.12.0/NoSleep.min.js" 
      integrity="sha512-DSzvYfxJWRi3E6vfcGQfL5CqOlApxYrrdqRP3hRCnoiZ0oM6+ccYjbtdzQFUrAOI/ehKk0VKFuKs5GseGPkVjQ==" 
      crossorigin="anonymous" referrerpolicy="no-referrer">
    </script>
  </head>
  <body>
    <div class="main-container">
    <!-- Video for handtracker -->
    <div class="ar-toggle-container" id="ar-toggle-container">
      <button class="desktop-viewar disabledbtn" id="desktop-viewar" disabled>View AR</button>
      <!-- <p id="controlType">CameraCon</p> -->
      <!-- <button class="primarybtn loadbtns" onclick="start()">Start</button>
      <button class="primarybtn loadbtns" onclick="toggleControls()">Toggle</button> -->
      <h2 id="updatenote">Setting up</h2>
    </div>
    <div class="title-container tryon-title" id="tryon-title">
      <h2 class="sitename">Welcome to jAR4U</h2>
    </div>
    <div class="error-box" id="error-box">
      <h4 class="error-msg" id="error-msg1">
        Oops...Looks like you've opened our website on some other tab /
        browser as well
      </h4>
      <h4 class="error-msg" id="error-msg2">
        For better performance, please use single tab at a time and close
        others
      </h4>
      <div class="allsteps errorsteps">
        <div class="errorstep">
          <img
            src="assets/duplicate-tabs.jpg"
            class="errorimg"
            id="errorimg"
          />
        </div>
        <button class="primarybtn" type="button" id="reloadbtn">
          Try again
        </button>
      </div>
    </div>
    <!-- <div class="testing-container"> -->
      <!-- X
      <input
        type="any"
        value="1"
        onchatype="number"
        onchange="updateX(this.value)" 
      /> -->
      <!-- Y
      <input
        type="number"
        step="any"
        value="4"
        onchange="updateY(this.value)"
      /> -->
      <!-- Z
      <input
        type="number"
        step="any"
        value="2"
        onchange="updateZ(this.value)"
      /> -->

      <!-- <button class="modebutton" onclick="enableTranslation()">+ TL</button>
      <button class="modebutton" onclick="disableTranslation()">- TL</button> -->
      
      <!-- <button class="modebutton" onclick="enableHorizontalRotation()">
        + YR
      </button>
      <button class="modebutton" onclick="disableHorizontalRotation()">
        - YR
      </button> -->

      <!-- <button class="modebutton" onclick="enableVerticalRotation()">
        + XR
      </button>
      <button class="modebutton" onclick="disableVerticalRotation()">
        - XR
      </button> -->

      <!-- <button class="modebutton" onclick="enableXYRotation()">+ ZR</button>
      <button class="modebutton" onclick="disableXYRotation()">- ZR</button> -->

      <!-- <button class="modebutton" onclick="enableResizing()">+ RS</button>
      <button class="modebutton" onclick="disableResizing()">- RS</button> -->
      
      <!-- <button
        class="primarybtn"
        onclick="rotateX(5 * THREE.MathUtils.DEG2RAD)"
      >
        +rX5
      </button>
      <button
        class="primarybtn"
        onclick="rotateX(-5 * THREE.MathUtils.DEG2RAD)"
      >
        -rX5
      </button>
      <button
        class="primarybtn"
        onclick="rotateY(5 * THREE.MathUtils.DEG2RAD)"
      >
        +rY5
      </button>
      <button
        class="primarybtn"
        onclick="rotateY(-5 * THREE.MathUtils.DEG2RAD)"
      >
        -rY5
      </button>
      <button
        class="primarybtn"
        onclick="rotateZ(5)"
      >
        +rZ5
      </button>
      <button
        class="primarybtn"
        onclick="rotateZ(-5)"
      >
        -rZ5
      </button> -->
    <!-- </div> -->

    <div class="viewer-container" id="viewer-container">
      <video class="input_video"></video>
      <!-- <canvas class="output_canvas" width="1280" height="720"></canvas> -->
      <canvas class="output_canvas"></canvas>
      <div class="control-panel">
      </div>

      <div id="error"></div>

      <div id="viewspacecontainer">
        <!-- <div id="info" class="info">
          Fps:
          <div id="fpsdisplay"></div>
        </div> -->
        <div id="Loading">
          <h4>
            <!-- [ Loading your experience ] -->
            <p id="funorfact">Tip: For best AR experience, make sure that no major light source is behind you.</p>
          </h4>
        </div>
        <div id="loading-container">
          <!-- <img src="assets/imagebox.gif" class="loadimg" /> -->
          <!-- <div
            class="ldBar label-center"
            data-value="0"
            data-preset="circle"
            id="loadingcircle"
          ></div> -->
        </div>
        <div class="viewspace" id="viewspace"></div>
      </div>
      <div id="usermanual">
        <h3 class="trytitle">Try on with 3 simple steps !</h3>
        <div class="allsteps">
          <div class="step">
            <img src="" class="stepimg" id="step1img"/>
            <p class="steptext">
              First place your hand vertically in front of camera
            </p>
          </div>
          <div class="step">
            <img src="" class="stepimg" id="step2img"/>
            <p class="steptext">Set the jewellery on your hand correctly</p>
          </div>
          <div class="step">
            <img src="assets/banglestep3.gif" class="stepimg" id="step3img"/>
            <p class="steptext">Try it on freely to view all its details</p>
          </div>
        </div>
        <button class="primarybtn disabledbtn" type="button" id="getstartedbtn" disabled>
          Setting up
        </button>
      </div>
      <div id="retrycamscreen">
        <h4 class="trytitle" >Oops...Looks like your camera is already being accessed by another application(s)</h4>
        <h4 class="trytitle">
          Please close your camera on that application(s) and Try again !
        </h4>
        <div class="allsteps">
          <div class="errorstep">
            <img src="assets/no-camerafeed.png" class="errorimg" id="step1img"/>
          </div>
        </div>
        <button class="primarybtn" type="button" id="retrycambtn" onclick="showManual()">
          Try again
        </button>
      </div>
      <div id="showhandscreen">
        <h2>Place your hand vertically as shown below</h2>
        <img src="assets/hand.png" class="handimg"><img>
        <!-- <button class="primarybtn" type="button" onclick="hideHandScreen()">OK</button> -->
        <button class="primarybtn" type="button" onclick="toggleVideo()">Stop AR</button>
        <button class="primarybtn switchbtn" onclick="switchFacingMode()" id="switchbtn">
          <img src="assets/switch.png" class="switchimg">
        </button>
      </div>
    </div>
    <div class="ar-bottom-container mobile-viewer" id="ar-bottom-container">
      <button class="disabledbtn" id="mobile-viewar" disabled>View AR</button>
    </div>
  </div>

    <!-- <script src="https://cdn.jsdelivr.net/npm/handtrackjs/dist/handtrack.min.js"></script> -->
    <script src="https://unpkg.com/three@0.135.0/build/three.js"></script>
    <!-- <script src="https://unpkg.com/three@0.113.1/examples/js/controls/OrbitControls.js"></script> -->

    <!-- <script src="https://cdn.jsdelivr.net/npm/three@0.135.0/build/three.min.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/three@0.135.0/examples/js/controls/ArcballControls.js"></script> -->

    <script src="https://unpkg.com/png-js@1.0.0/zlib.js"></script>
    <script src="https://unpkg.com/png-js@1.0.0/png.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script> -->
    <!-- <script src="js/extras/zip.js"></script> -->
    <script src="js/start.js"></script>
    <script src="js/extras/camera-controls.js"></script>
    <script src="js/variables.js"></script>
    <script src="js/shaders.js"></script>
    <script src="js/texture.js"></script>
    <script src="js/material.js"></script>
    <script src="js/loadTexturePNG.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/scene.js"></script>
    <script type="module" src="js/mediapipe.js"></script>
    <script src="js/AR.js"></script>
  </body>
</html>
